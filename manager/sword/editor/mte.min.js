/*!
 * ----------------------------------------------------------
 *  MARKDOWN TEXT EDITOR PLUGIN 1.1.2
 * ----------------------------------------------------------
 * Author: Taufik Nurrohman <http://latitudu.com>
 * Licensed under the MIT license.
 *
 * REQUIRES:
 * ==========================================================
 * [1]. https://github.com/tovic/simple-text-editor-library
 * [2]. https://fortawesome.github.io/Font-Awesome/icons
 * ==========================================================
 * ----------------------------------------------------------
 *
 */

;var MTE=function(a,b){function j(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?j(a[c],b[c]):b[c];return a}var c=this,d=window,e=document,f=new Editor(a),g={tabSize:"    ",toolbar:!0,shortcut:!1,toolbarClass:"editor-toolbar",toolbarPosition:"before",buttonClassPrefix:"editor-toolbar-button editor-toolbar-button-",iconClassPrefix:"fa fa-",buttons:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel",open:"Open",close:"Close",bold:"Bold",italic:"Italic",code:"Code",quote:"Quote",heading:"H1 \u2013 H6",link:"Link",image:"Image",ol:"Ordered List",ul:"Unordered List",rule:"Horizontal Rule",undo:"Undo",redo:"Redo"},prompt:{link_title:"link title goes here...",link_title_title:"Link Title",link_url:"http://",link_url_title:"Link URL",image_url:"http://",image_url_title:"Image URL"},placeholder:{heading_text:"Heading",link_text:"link text",list_ul_text:"List Item",list_ol_text:"List Item",image_alt:"Image"},keydown:function(){},click:function(){},ready:function(){}},h=e.createElement("div"),i=e.createElement("div");c.modal=function(a,b){a=a||"modal";var f=e.body,g=f.scrollTop||e.documentElement.scrollTop;h.className="custom-modal-overlay custom-modal-"+a+"-overlay",h.onclick=function(){c.close(!0)},i.className="custom-modal custom-modal-"+a,i.innerHTML='<div class="custom-modal-header custom-modal-'+a+'-header"></div><div class="custom-modal-content custom-modal-'+a+'-content"></div><div class="custom-modal-action custom-modal-'+a+'-action"></div>',i.style.visibility="hidden",f.appendChild(h),f.appendChild(i),d.setTimeout(function(){var a=i.offsetWidth,b=i.offsetHeight;i.style.position="absolute",i.style.top="50%",i.style.left="50%",i.style.zIndex="9999",i.style.marginTop=g-b/2+"px",i.style.marginLeft="-"+a/2+"px",i.style.visibility="",i.offsetTop<0&&(i.style.top=0,i.style.marginTop=0),i.offsetLeft<0&&(i.style.left=0,i.style.marginLeft=0)},10),"function"==typeof b&&b(h,i)},c.close=function(a){if(h&&e.body.removeChild(h),i&&e.body.removeChild(i),"undefined"!=typeof a&&a===!0){var b=f.selection();f.select(b.start,b.end)}},c.prompt=function(a,b,f,g){c.modal("prompt",function(h,i){var j=function(a){"function"==typeof g?(c.close(),g(a)):c.close(!0)},l=e.createElement("input");l.type="text",l.value=b,l.onkeyup=function(a){f?13==a.keyCode&&""!==this.value&&this.value!==b&&j(this.value):13==a.keyCode&&j(this.value==b?"":this.value)};var m=e.createElement("button");m.innerHTML=k.buttons.ok,m.onclick=function(){f?""!==l.value&&l.value!==b&&j(l.value):j(l.value==b?"":l.value)};var n=e.createElement("button");n.innerHTML=k.buttons.cancel,n.onclick=function(){c.close(!0)},i.children[0].innerHTML=a?a:"",i.children[1].appendChild(l),i.children[2].appendChild(m),i.children[2].appendChild(e.createTextNode(" ")),i.children[2].appendChild(n),d.setTimeout(function(){l.select()},10)})},c.alert=function(a,b,d){c.modal("alert",function(f,g){var h=e.createElement("button");h.innerHTML=k.buttons.ok,h.onclick=function(){"function"==typeof d?(c.close(),d()):c.close(!0)},g.children[0].innerHTML=a?a:"",g.children[1].innerHTML=b?b:"",g.children[2].appendChild(h)})},c.confirm=function(a,b,d){c.modal("confirm",function(f,g){var h=e.createElement("button");h.innerHTML=k.buttons.ok,h.onclick=function(){"undefined"==typeof d?c.close(!0):"function"==typeof d.OK?(c.close(),d.OK()):c.close(!0)};var i=e.createElement("button");i.innerHTML=k.buttons.cancel,i.onclick=function(){return"undefined"==typeof d?c.close(!0):"function"==typeof d.CANCEL?(c.close(),d.CANCEL()):c.close(!0),!1},g.children[0].innerHTML=a?a:"",g.children[1].innerHTML=b?b:"",g.children[2].appendChild(h),g.children[2].appendChild(e.createTextNode(" ")),g.children[2].appendChild(i)})};var k=j(g,b),l=e.createElement("span");k.toolbar&&(l.className=k.toolbarClass,f.area.parentNode.insertBefore(l,"before"==k.toolbarPosition?f.area:null)),c.button=function(a,b){if(b.title!==!1){var d=e.createElement("a");d.className=k.buttonClassPrefix+a,d.href="#"+a.replace(" ",":").replace(/[^a-z0-9\:]/gi,"-").replace(/-+/g,"-").replace(/^-+|-+$/,""),d.setAttribute("tabindex",-1),d.innerHTML='<i class="'+k.iconClassPrefix+a+'"></i>',d.onclick=function(a){return b.click(a,c),k.click(a,c,this.hash.replace("#","")),!1},b.title&&(d.title=b.title),b.position?l.insertBefore(d,l.children[b.position-1]):l.appendChild(d)}},f.toggle=function(a,b,c){var d=f.selection();if(d.before.slice(-a.length)!=a&&d.after.slice(0,b.length)!=b)f.wrap(a,b);else{var e=d.before.slice(-a.length)==a?d.before.substring(0,d.before.length-a.length):d.before,g=d.after.substring(0,b.length)==b?d.after.substring(b.length):d.after;f.area.value=e+d.value+g,f.select(e.length,e.length+d.value.length,function(){f.updateHistory()})}"function"==typeof c&&c()};var m=0,n=k.buttons,o={bold:{title:n.bold,click:function(){f.toggle("**","**")}},italic:{title:n.italic,click:function(){f.toggle("_","_")}},code:{title:n.code,click:function(){var a=f.selection().value;-1!==a.indexOf("\n")&&a.length>0?f.indent(k.tabSize):f.toggle("`","`")}},"quote-right":{title:n.quote,click:function(){f.indent("> ")}},header:{title:n.heading,click:function(){var a=f.selection(),b=["","# ","## ","### ","#### ","##### ","###### "];if(m=m<b.length-1?m+1:0,a.value.length>0)if(a.before.match(/\#+ $/)){var c=a.before.replace(/\#+ $/,""),d=a.value.replace(/^\#+ /,"");f.area.value=c+b[m]+d+a.after,f.select(c.length+b[m].length,c.length+b[m].length+d.length,function(){f.updateHistory()})}else f.wrap(b[m],"",function(){f.replace(/^\#+ /,"")});else{var e=k.placeholder.heading_text;m=1,f.insert(b[m]+e,function(){a=f.selection().end,f.select(a-e.length-b[m].length+2,a,function(){f.updateHistory()})})}}},link:{title:n.link,click:function(){var b,d,a=f.selection(),e=k.placeholder.link_text;c.prompt(k.prompt.link_title_title,k.prompt.link_title,!1,function(g){b=g,c.prompt(k.prompt.link_url_title,k.prompt.link_url,!0,function(c){d=c,f.wrap("["+(0===a.value.length?e:""),"]("+d+(""!==b?' "'+b+'"':"")+")",function(){f.select(a.start+1,0===a.value.length?a.start+e.length+1:a.end+1,function(){f.updateHistory()})})})})}},image:{title:n.image,click:function(){c.prompt(k.prompt.image_url_title,k.prompt.image_url,!0,function(a){var b=decodeURIComponent(a.substring(a.lastIndexOf("/")+1,a.lastIndexOf(".")).replace(/[\-\+\.\_]+/g," ")).toLowerCase().replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase()});b=-1===b.indexOf("/")&&-1!==a.indexOf(".")?b:k.placeholder.image_alt,f.insert("\n!["+b+"]("+a+")\n")})}},"list-ol":{title:n.ol,click:function(){var a=f.selection(),b=0,c="";if(a.value==k.placeholder.list_ol_text)f.select(a.start,a.end);else if(a.value.length>0)f.indent("",function(){f.replace(/^[^\n\r]/gm,function(a){return b++,c+=" "+b+". ",a.replace(/^/," "+b+". ")})});else{var d=" 1. "+k.placeholder.list_ol_text;f.insert(d,function(){f.select(a.start+4,a.start+d.length,function(){f.updateHistory()})})}}},"list-ul":{title:n.ul,click:function(){var a=f.selection();if(a.value==k.placeholder.list_ul_text)f.select(a.start,a.end);else if(a.value.length>0)f.indent(" * ");else{var b=" * "+k.placeholder.list_ul_text;f.insert(b,function(){f.select(a.start+3,a.start+b.length,function(){f.updateHistory()})})}}},"ellipsis-h":{title:n.rule,click:function(){f.insert("\n---\n")}},undo:{title:n.undo,click:function(){f.undo()}},repeat:{title:n.redo,click:function(){f.redo()}}};for(var p in o)c.button(p,o[p]);var q=function(a,b){return f.insert(a,function(){f.select(b.end+1,b.end+1)}),!1};f.area.onkeydown=function(a){var b=f.selection(),e=a.keyCode,g=a.ctrlKey,h=a.shiftKey,i=a.altKey;d.setTimeout(function(){k.keydown(a,c)},10);var j=b.before,l=b.after[0];if(-1!==j.indexOf("(")&&h&&48==e&&")"==l&&"\\"!=j.slice(-1)||-1!==j.indexOf("{")&&h&&221==e&&"}"==l&&"\\"!=j.slice(-1)||-1!==j.indexOf("[")&&221==e&&"]"==l&&"\\"!=j.slice(-1)||-1!==j.indexOf('"')&&h&&222==e&&'"'==l&&"\\"!=j.slice(-1)||-1!==j.indexOf("'")&&!h&&222==e&&"'"==l&&"\\"!=j.slice(-1)||-1!==j.indexOf("`")&&!h&&192==e&&"`"==l&&"\\"!=j.slice(-1)||-1!==j.indexOf("<")&&h&&190==e&&">"==l&&"\\"!=j.slice(-1))return f.select(b.end+1,b.end+1),!1;if(h&&57==e)return q("("+b.value+")",b);if(h&&219==e)return q("{"+b.value+"}",b);if(!h&&219==e)return q("["+b.value+"]",b);if(h&&222==e)return q('"'+b.value+'"',b);if(!h&&222==e)return q("'"+b.value+"'",b);if(!h&&192==e)return q("`"+b.value+"`",b);if(h&&188==e)return q("<"+b.value+">",b);if(h&&9==e)return f.outdent("( *[0-9]+. | *[\\-\\+\\*] |> |"+k.tabSize+")"),!1;if(9==e)return f.indent(k.tabSize),!1;if(g&&90==e)return f.undo(),!1;if(g&&89==e||g&&82==e)return f.redo(),!1;if(k.shortcut){if(g&&66==e)return o.bold.click(),!1;if(g&&73==e)return o.italic.click(),!1;if(g&&81==e)return o["quote-right"].click(),!1;if(i&&81==e)return h?f.toggle("&ldquo;","&rdquo;"):f.toggle("&lsquo;","&rsquo;"),!1;if(g&&72==e)return o.header.click(),!1;if(g&&76==e)return o.link.click(),!1;if(g&&71==e)return o.image.click(),!1}if(32==e){var m=/(^|\n)([0-9]+\.|[\-\+\*])$/;if(b.before.match(m))return f.area.value=b.before.replace(m,"$1 $2 ")+b.value+b.after,f.select(b.end+2,b.end+2,function(){f.updateHistory()}),!1}if(13==e){var n=/(^|\n)( *?)([0-9]+\.|[\-\+\*]) (.*?)$/;if(b.before.match(n)){var p=n.exec(b.before),r=/[0-9]+\./.test(p[3])?parseInt(p[3],10)+1+".":p[3];return f.insert("\n"+p[2]+r+" ",null),!1}var s=new RegExp("(^|\n)(("+k.tabSize+")+)(.*?)$").exec(b.before),t=s?s[2]:"";return b.before.match(/[\(\{\[]$/)&&b.after.match(/^[\]\}\)]/)||b.before.match(/<[^\/]*?>$/)&&b.after.match(/^<\//)?(f.insert("\n"+t+k.tabSize+"\n"+t,function(){f.select(b.start+t.length+k.tabSize.length+1,b.start+t.length+k.tabSize.length+1,function(){f.updateHistory()})}),!1):(f.insert("\n"+t),!1)}if(8==e&&0===b.value.length){if(b.before.match(/( *?)([0-9]+\.|[\-\+\*]) $/))return f.outdent("( *?)([0-9]+.|[-+*]) "),!1;if(b.before.match(new RegExp(k.tabSize+"$")))return f.outdent(k.tabSize),!1;switch(b.before.slice(-1)){case"(":return f.toggle("(",")"),!1;case"{":return f.toggle("{","}"),!1;case"[":return f.toggle("[","]"),!1;case'"':return f.toggle('"','"'),!1;case"'":return f.toggle("'","'"),!1;case"<":return f.toggle("<",">"),!1;case"*":return f.toggle("*","*"),!1;case"_":return f.toggle("_","_"),!1;case"~":return f.toggle("~","~"),!1;case"`":return f.toggle("`","`"),!1}}f.updateHistory()},k.ready(c),c.grip=f,c.grip.config=k};

/*!
 * ----------------------------------------------------------
 *  HTML TEXT EDITOR PLUGIN 1.0.2
 * ----------------------------------------------------------
 * Author: Taufik Nurrohman <http://latitudu.com>
 * Licensed under the MIT license.
 *
 * REQUIRES:
 * ==========================================================
 * [1]. https://github.com/tovic/simple-text-editor-library
 * [2]. https://fortawesome.github.io/Font-Awesome/icons
 * ==========================================================
 * ----------------------------------------------------------
 *
 */

;var HTE=function(e,t){function n(e,t){e=e||{};for(var l in t)e[l]="object"==typeof t[l]?n(e[l],t[l]):t[l];return e}var l=this,i=window,r=document,o=new Editor(e),a={tabSize:"    ",toolbar:!0,shortcut:!1,toolbarClass:"editor-toolbar",toolbarPosition:"before",buttonClassPrefix:"editor-toolbar-button editor-toolbar-button-",iconClassPrefix:"fa fa-",emptyElementSuffix:">",autoEncodeHTML:!0,buttons:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel",open:"Open",close:"Close",bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",superscript:"Superscript",subscript:"Subscript",code:"Code",paragraph:"Paragraph",quote:"Quote",heading:"H1 – H6",link:"Link",image:"Image",ol:"Ordered List",ul:"Unordered List",rule:"Horizontal Rule",undo:"Undo",redo:"Redo"},prompt:{link_title:"link title goes here...",link_title_title:"Link Title",link_url:"http://",link_url_title:"Link URL",image_url:"http://",image_url_title:"Image URL"},placeholder:{heading_text:"Heading",link_text:"link text",list_ul_text:"List Item",list_ol_text:"List Item",image_alt:"Image"},keydown:function(){},click:function(){},ready:function(){}},c=r.createElement("div"),u=r.createElement("div");l.modal=function(e,t){e=e||"modal";var n=r.body,o=n.scrollTop||r.documentElement.scrollTop;c.className="custom-modal-overlay custom-modal-"+e+"-overlay",c.onclick=function(){l.close(!0)},u.className="custom-modal custom-modal-"+e,u.innerHTML='<div class="custom-modal-header custom-modal-'+e+'-header"></div><div class="custom-modal-content custom-modal-'+e+'-content"></div><div class="custom-modal-action custom-modal-'+e+'-action"></div>',u.style.visibility="hidden",n.appendChild(c),n.appendChild(u),i.setTimeout(function(){var e=u.offsetWidth,t=u.offsetHeight;u.style.position="absolute",u.style.top="50%",u.style.left="50%",u.style.zIndex="9999",u.style.marginTop=o-t/2+"px",u.style.marginLeft="-"+e/2+"px",u.style.visibility="",u.offsetTop<0&&(u.style.top=0,u.style.marginTop=0),u.offsetLeft<0&&(u.style.left=0,u.style.marginLeft=0)},10),"function"==typeof t&&t(c,u)},l.close=function(e){if(c&&r.body.removeChild(c),u&&r.body.removeChild(u),void 0!==e&&e===!0){var t=o.selection();o.select(t.start,t.end)}},l.prompt=function(e,t,n,o){l.modal("prompt",function(a,c){var u=function(e){"function"==typeof o?(l.close(),o(e)):l.close(!0)},p=r.createElement("input");p.type="text",p.value=t,p.onkeyup=function(e){n?13==e.keyCode&&""!==this.value&&this.value!==t&&u(this.value):13==e.keyCode&&u(this.value==t?"":this.value)};var f=r.createElement("button");f.innerHTML=s.buttons.ok,f.onclick=function(){n?""!==p.value&&p.value!==t&&u(p.value):u(p.value==t?"":p.value)};var d=r.createElement("button");d.innerHTML=s.buttons.cancel,d.onclick=function(){l.close(!0)},c.children[0].innerHTML=e?e:"",c.children[1].appendChild(p),c.children[2].appendChild(f),c.children[2].appendChild(r.createTextNode(" ")),c.children[2].appendChild(d),i.setTimeout(function(){p.select()},10)})},l.alert=function(e,t,n){l.modal("alert",function(i,o){var a=r.createElement("button");a.innerHTML=s.buttons.ok,a.onclick=function(){"function"==typeof n?(l.close(),n()):l.close(!0)},o.children[0].innerHTML=e?e:"",o.children[1].innerHTML=t?t:"",o.children[2].appendChild(a)})},l.confirm=function(e,t,n){l.modal("confirm",function(i,o){var a=r.createElement("button");a.innerHTML=s.buttons.ok,a.onclick=function(){void 0===n?l.close(!0):"function"==typeof n.OK?(l.close(),n.OK()):l.close(!0)};var c=r.createElement("button");c.innerHTML=s.buttons.cancel,c.onclick=function(){return void 0===n?l.close(!0):"function"==typeof n.CANCEL?(l.close(),n.CANCEL()):l.close(!0),!1},o.children[0].innerHTML=e?e:"",o.children[1].innerHTML=t?t:"",o.children[2].appendChild(a),o.children[2].appendChild(r.createTextNode(" ")),o.children[2].appendChild(c)})};var s=n(a,t),p=r.createElement("span");s.toolbar&&(p.className=s.toolbarClass,o.area.parentNode.insertBefore(p,"before"==s.toolbarPosition?o.area:null)),l.button=function(e,t){if(t.title!==!1){var n=r.createElement("a");n.className=s.buttonClassPrefix+e,n.href="#"+e.replace(" ",":").replace(/[^a-z0-9\:]/gi,"-").replace(/-+/g,"-").replace(/^-+|-+$/,""),n.setAttribute("tabindex",-1),n.innerHTML='<i class="'+s.iconClassPrefix+e+'"></i>',n.onclick=function(e){return t.click(e,l),s.click(e,l,this.hash.replace("#","")),!1},t.title&&(n.title=t.title),t.position?p.insertBefore(n,p.children[t.position-1]):p.appendChild(n)}},o.toggle=function(e,t,n){var l=o.selection();if(l.before.slice(-e.length)!=e&&l.after.slice(0,t.length)!=t)o.wrap(e,t);else{var i=l.before.slice(-e.length)==e?l.before.substring(0,l.before.length-e.length):l.before,r=l.after.substring(0,t.length)==t?l.after.substring(t.length):l.after;o.area.value=i+l.value+r,o.select(i.length,i.length+l.value.length,function(){o.updateHistory()})}"function"==typeof n&&n()};var f=0,d=s.buttons,g={bold:{title:d.bold,click:function(){o.toggle("<strong>","</strong>")}},italic:{title:d.italic,click:function(){o.toggle("<em>","</em>")}},underline:{title:d.underline,click:function(){o.toggle("<u>","</u>")}},strikethrough:{title:d.strike,click:function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,l=e.getFullYear();10>t&&(t="0"+t),10>n&&(n="0"+n),o.toggle('<del datetime="'+l+"-"+n+"-"+t+'">',"</del>")}},code:{title:d.code,click:function(){var e=o.selection().value,t=-1===e.indexOf("\n"),n=t?"<code>":"<pre><code>",l=t?"</code>":"</code></pre>";if(e.length>0){var i=o.selection(),r=i.before,a=i.after,c=i.value;r.match(/(<pre(>| .*?>))?<code(>| .*?>)$/)&&a.match(/^<\/code>(<\/pre>)?/)?(r=r.replace(/(<pre(>| .*?>))?<code(>| .*?>)$/,""),a=a.replace(/^<\/code>(<\/pre>)?/,""),s.autoEncodeHTML&&(c=c.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")),o.area.value=r+c+a,o.select(r.length,r.length+c.length,function(){o.updateHistory()})):(s.autoEncodeHTML&&(c=c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o.area.value=r+n+c+l+a,o.select(r.length+n.length,r.length+c.length+n.length,function(){o.updateHistory()}))}else o.toggle(n,l)}},paragraph:{title:d.paragraph,click:function(){var e=o.selection().value;-1!==e.indexOf("\n")?/^<p>|<\/p>$/.test(e)?o.replace(/<p>([\s\S]*?)<\/p>/g,"$1"):(o.replace(/^/,"<p>"),o.replace(/$/,"</p>"),o.replace(/\n/g,"</p>\n<p>"),o.replace(/<p><\/p>/g,""),o.replace(/<p><p>/g,"<p>"),o.replace(/<\/p><\/p>/g,"</p>")):o.toggle("<p>","</p>")}},"quote-right":{title:d.quote,click:function(){o.toggle("<blockquote>","</blockquote>")}},header:{title:d.heading,click:function(){var e=o.selection(),t=/<(?:h[1-6]|p)(>| .*?>)$/.exec(e.before);if(t=t?t[1]:">",f=6>f?f+1:0,e.value.length>0)if(e.before.match(/<(?:h[1-6]|p)(>| .*?>)$/)){var n=e.before.replace(/<(?:h[1-6]|p)(>| .*?>)$/g,""),l=e.value.replace(/^<(?:h[1-6]|p)(>| .*?>)|<\/(?:h[1-6]|p)>$/g,""),i=e.after.replace(/^<\/(?:h[1-6]|p)>/g,"");o.area.value=n+(f>0?"<h"+f+t:"<p"+t)+l+(f>0?"</h"+f+">":"</p>")+i,o.select(n.length+(f>0?t.length+3:t.length+2),n.length+(f>0?t.length+3:t.length+2)+l.length,function(){o.updateHistory()})}else o.wrap(f>0?"<h"+f+t:"<p"+t,f>0?"</h"+f+">":"</p>",function(){o.replace(/^<(?:h[1-6]|p)(>| .*?>)|<\/(?:h[1-6]|p)>$/g,"")});else{var r=s.placeholder.heading_text;f=1,o.insert("<h"+f+">"+r+"</h"+f+">",function(){e=o.selection().end,o.select(e-r.length-5,e-5,function(){o.updateHistory()})})}}},link:{title:d.link,click:function(){var e,t,n=o.selection(),i=s.placeholder.link_text;l.prompt(s.prompt.link_title_title,s.prompt.link_title,!1,function(r){e=r,l.prompt(s.prompt.link_url_title,s.prompt.link_url,!0,function(l){t=l,0===n.value.length?o.insert('<a href="'+t+'"'+(""!==e?' title="'+e+'"':"")+">"+i+"</a>",function(){var e=o.selection().end;o.select(e-i.length-4,e-4,function(){o.updateHistory()})}):o.wrap('<a href="'+t+'"'+(""!==e?' title="'+e+'"':"")+">","</a>")})})}},image:{title:d.image,click:function(){l.prompt(s.prompt.image_url_title,s.prompt.image_url,!0,function(e){var t=decodeURIComponent(e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")).replace(/[\-\+\.\_]+/g," ")).toLowerCase().replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()});t=-1===t.indexOf("/")&&-1!==e.indexOf(".")?t:s.placeholder.image_alt,o.insert('\n<img alt="'+t+'" src="'+e+'"'+s.emptyElementSuffix+"\n")})}},"list-ol":{title:d.ol,click:function(){var e=o.selection(),t=s.placeholder.list_ol_text;e.value.length>0?e.value==t?o.select(e.start,e.end):o.insert("<ol>\n"+s.tabSize+"<li>"+e.value.replace(/\n/g,"</li>\n"+s.tabSize+"<li>").replace(RegExp("\n("+s.tabSize+")?<li></li>\n","g"),"\n</ol>\n\n<ol>\n")+"</li>\n</ol>"):o.insert("<ol>\n"+s.tabSize+"<li>"+t+"</li>\n</ol>",function(){o.select(e.start+s.tabSize.length+9,e.start+s.tabSize.length+9+t.length,function(){o.updateHistory()})})}},"list-ul":{title:d.ul,click:function(){var e=o.selection(),t=s.placeholder.list_ul_text;e.value.length>0?e.value==t?o.select(e.start,e.end):o.insert("<ul>\n"+s.tabSize+"<li>"+e.value.replace(/\n/g,"</li>\n"+s.tabSize+"<li>").replace(RegExp("\n("+s.tabSize+")?<li></li>\n","g"),"\n</ul>\n\n<ul>\n")+"</li>\n</ul>"):o.insert("<ul>\n"+s.tabSize+"<li>"+t+"</li>\n</ul>",function(){o.select(e.start+s.tabSize.length+9,e.start+s.tabSize.length+9+t.length,function(){o.updateHistory()})})}},superscript:{title:d.superscript,click:function(){o.toggle("<sup>","</sup>")}},subscript:{title:d.subscript,click:function(){o.toggle("<sub>","</sub>")}},"ellipsis-h":{title:d.rule,click:function(){o.insert("\n<hr"+s.emptyElementSuffix+"\n")}},undo:{title:d.undo,click:function(){o.undo()}},repeat:{title:d.redo,click:function(){o.redo()}}};for(var h in g)l.button(h,g[h]);var m=function(e,t){return o.insert(e,function(){o.select(t.end+1,t.end+1)}),!1};o.area.onkeydown=function(e){var t=o.selection(),n=e.keyCode,r=e.ctrlKey,a=e.shiftKey,c=e.altKey;i.setTimeout(function(){s.keydown(e,l)},10);var u=t.before,p=t.after[0];if(-1!==u.indexOf("(")&&a&&48==n&&")"==p&&"\\"!=u.slice(-1)||-1!==u.indexOf("{")&&a&&221==n&&"}"==p&&"\\"!=u.slice(-1)||-1!==u.indexOf("[")&&221==n&&"]"==p&&"\\"!=u.slice(-1)||-1!==u.indexOf('"')&&a&&222==n&&'"'==p&&"\\"!=u.slice(-1)||-1!==u.indexOf("'")&&!a&&222==n&&"'"==p&&"\\"!=u.slice(-1)||-1!==u.indexOf("`")&&!a&&192==n&&"`"==p&&"\\"!=u.slice(-1)||-1!==u.indexOf("<")&&a&&190==n&&">"==p&&"\\"!=u.slice(-1))return o.select(t.end+1,t.end+1),!1;if(a&&57==n)return m("("+t.value+")",t);if(a&&219==n)return m("{"+t.value+"}",t);if(!a&&219==n)return m("["+t.value+"]",t);if(a&&222==n)return m('"'+t.value+'"',t);if(!a&&222==n)return m("'"+t.value+"'",t);if(!a&&192==n)return m("`"+t.value+"`",t);if(a&&188==n)return m("<"+t.value+">",t);if(a&&9==n)return o.outdent(s.tabSize),!1;if(9==n)return o.indent(s.tabSize),!1;if(r&&90==n)return o.undo(),!1;if(r&&89==n||r&&82==n)return o.redo(),!1;if(s.shortcut){if(r&&66==n)return g.bold.click(),!1;if(r&&73==n)return g.italic.click(),!1;if(r&&81==n)return g["quote-right"].click(),!1;if(c&&81==n)return a?o.toggle("&ldquo;","&rdquo;"):o.toggle("&lsquo;","&rsquo;"),!1;if(r&&72==n)return g.header.click(),!1;if(r&&76==n)return g.link.click(),!1;if(r&&71==n)return g.image.click(),!1}if(13==n){if(r)return g.paragraph.click(),!1;if(a)return o.insert("<br"+s.emptyElementSuffix+"\n"),!1;if(t.before.match(/<\/li>$/))return o.insert("\n"+s.tabSize+"<li></li>",function(){o.select(t.end+s.tabSize.length+5,t.end+s.tabSize.length+5,function(){o.updateHistory()})}),!1;if(t.after.match(/^<\/li>/))return o.insert("</li>\n"+s.tabSize+"<li>"),!1;var f=RegExp("(^|\n)(("+s.tabSize+")+)(.*?)$").exec(t.before),d=f?f[2]:"";return t.before.match(/[\(\{\[]$/)&&t.after.match(/^[\]\}\)]/)||t.before.match(/<[^\/]*?>$/)&&t.after.match(/^<\//)?(o.insert("\n"+d+s.tabSize+"\n"+d,function(){o.select(t.start+d.length+s.tabSize.length+1,t.start+d.length+s.tabSize.length+1,function(){o.updateHistory()})}),!1):(o.insert("\n"+d),!1)}if(8==n&&0===t.value.length){if(t.before.match(RegExp(s.tabSize+"$")))return o.outdent(s.tabSize),!1;switch(t.before.slice(-1)){case"(":return o.toggle("(",")"),!1;case"{":return o.toggle("{","}"),!1;case"[":return o.toggle("[","]"),!1;case'"':return o.toggle('"','"'),!1;case"'":return o.toggle("'","'"),!1;case"<":return o.toggle("<",">"),!1;case"`":return o.toggle("`","`"),!1}}if(39==n&&t.after.match(/^<\/.*?>/)){var h=t.end+t.after.indexOf(">");o.select(h,h,function(){o.updateHistory()})}o.updateHistory()},s.ready(l),l.grip=o,l.grip.config=s};

/**
 * Disabled HTML Parser
 * --------------------
 *
 * To keep the API remains semantic, start from here you can call "MTE" as "Mecha Text Editor".
 *
 */

if (typeof DASHBOARD != "undefined") {
    if (DASHBOARD.is_html_parser_enabled === false) MTE = HTE;
}